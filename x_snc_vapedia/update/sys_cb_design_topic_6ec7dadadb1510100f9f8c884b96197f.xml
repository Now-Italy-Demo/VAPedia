<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__62c7129ab3151010796304aef4a5f26c">2ac7129adb1510100f9f8c884b96196d</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"8a70a6b83dce4eedaef2c00b3b69bb5c","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"8a70a6b83dce4eedaef2c00b3b69bb5c"}],"goals":[{"name":"primary","trigger_id":"8a70a6b83dce4eedaef2c00b3b69bb5c","nodes":[{"type":"StartGoal","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","greeting_msg":{"type":"String","mode":"string","value":""},"id":"a54f3c16fd1441d19298878c748c3f42","name":"Start"},{"type":"TerminateGoal","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"583a659aa4264757bbf4407796c9f360","name":"End"},{"type":"InputPrompt","variable_id":"04c0afa2f7b94600a1ec721f0e4ed16f","message":{"type":"String","mode":"string","value":"What's the topic you're interested in?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"a77e90ebef71497a868a1a5ac48a88cf","name":"Welcome","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a \n       record based on conditional logic:\n    \n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n\nvaVars.query = vaInputs.welcome.getValue();\n\ntry {\n\t\tvar inputs = {};\n\t\tinputs['query'] = vaVars.query; // String \n\n\t\t// Start Asynchronously: Uncomment to run in background. Code snippet will not have access to outputs.\n\t\t// sn_fd.FlowAPI.startAction('x_snc_vapedia.search_wikipedia', inputs);\n\t\t\t\t\n\t\t// Execute Synchronously: Run in foreground. Code snippet has access to outputs.\n\t\tvar outputs = sn_fd.FlowAPI.executeAction('x_snc_vapedia.search_wikipedia', inputs);\n\n\t\t// Get Outputs:\n\t\t// Note: outputs can only be retrieved when executing synchronously.\n\t\tvar responselength = outputs['responselength']; // Integer\n\t\tvar query_sysid = outputs['query_sysid']; // String\n\n\t\tvaVars.query_sysid = query_sysid;\n\t\tvaVars.responselength = responselength;\n\t\t\n\t} catch (ex) {\n\t\tvar message = ex.getMessage();\n\t\tgs.error(message);\n\t\tgs.info('WILLIAM ERRORE: '+message)\n\t}\n\n})()\n","id":"7e2fdd0055b440c291c2f570778a2d4a","name":"Call Action Flow","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Results?","branches":[{"type":"Branch","label":"Zero Results","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n\n    var applies = vaVars.responselength == 0 ? true : false;\n    return applies;\n})()\n"},"id":"5f3c21a8072c4b178c5bbeec957050ea","name":"Zero Results"},{"type":"Branch","label":"Some Results","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n\n    var applies = vaVars.responselength &gt; 0 ? true : false;\n    return applies;\n    \n})()\n"},"id":"ff2ac58b7fd4422ebc06c26a002c5d69","name":"Some Results"}],"id":"23330d6314a244429de4150e7c0b3161","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc"},{"type":"RecordOutputPrompt","mode":"query","table":"x_snc_vapedia_wikipage","fields":["title","url"],"id":"786032d2b22c48e992ade9ca26fed9af","name":"Show Results","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"},"reference_qualifier_condition":"query={{vaVars.query_sysid}}","condition":{"type":"Condition","mode":"glide_query","value":"query={{vaVars.query_sysid}}"}},{"type":"LinkOutputPrompt","header":{"type":"String","mode":"string","value":"header message?"},"label":{"type":"String","mode":"string","value":""},"url":{"type":"String","mode":"string","value":""},"link_type":"multiple","multi_link_script":"(function execute(header) {\n    /* Return up to 3 links.  For example:\n\n       var groupedLinksOutMsg = new sn_cs.GroupedPartsOutMsg();\n       groupedLinksOutMsg.setHeader(header);\n       groupedLinksOutMsg.addLinkPart('link 1 label', 'www.link1.com', 'a short desc', 'KB');\n       groupedLinksOutMsg.addLinkPart('link 2 label', 'www.link2.com', 'a short desc', 'ITSM');\n       return groupedLinksOutMsg;\n    */\n       var groupedLinksOutMsg = new sn_cs.GroupedPartsOutMsg();\n       groupedLinksOutMsg.setHeader(header);\n\n      var gr = new GlideRecord('x_snc_vapedia_wikipage');\n      gr.addEncodedQuery('query='+vaVars.query_sysid);\n      gr.query();\n      while (gr.next()) {\n                 groupedLinksOutMsg.addLinkPart(gr.title, gr.url, gr.pageid, 'KB');\n\n      }\n       return groupedLinksOutMsg;\n\n})(header)\n","id":"e329910e200f486588c715dca0e49e93","name":"Shor urls","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"a77e90ebef71497a868a1a5ac48a88cf","target_node_id":"7e2fdd0055b440c291c2f570778a2d4a","id":"77932deb953249699b3c26898472fcf5"},{"type":"Edge","source_node_id":"a54f3c16fd1441d19298878c748c3f42","target_node_id":"a77e90ebef71497a868a1a5ac48a88cf","id":"08654e9de1d3492b8b1a4d6ba8829d8e"},{"type":"Edge","source_node_id":"7e2fdd0055b440c291c2f570778a2d4a","target_node_id":"23330d6314a244429de4150e7c0b3161","id":"98a31b244ffb4058b67d991e819c0aed"},{"type":"Edge","source_node_id":"23330d6314a244429de4150e7c0b3161","target_node_id":"583a659aa4264757bbf4407796c9f360","branch_id":"5f3c21a8072c4b178c5bbeec957050ea","id":"c1ee01824e80499eb0b0cbe50d9ed2b6","name":"5f3c21a8072c4b178c5bbeec957050ea"},{"type":"Edge","source_node_id":"23330d6314a244429de4150e7c0b3161","target_node_id":"786032d2b22c48e992ade9ca26fed9af","branch_id":"ff2ac58b7fd4422ebc06c26a002c5d69","id":"64e9f53bb0f34cfbb3607c6bf29a0de4","name":"ff2ac58b7fd4422ebc06c26a002c5d69"},{"type":"Edge","source_node_id":"786032d2b22c48e992ade9ca26fed9af","target_node_id":"e329910e200f486588c715dca0e49e93","id":"d60677151fb54c0280cfab01a01a14a1"},{"type":"Edge","source_node_id":"e329910e200f486588c715dca0e49e93","target_node_id":"583a659aa4264757bbf4407796c9f360","id":"6ac5c89e185f491da796c9d8e44de1cf"}],"id":"fff2c0269ecd488a9b2ac471df63b6cc"}],"script_variables":[{"type":"String","name":"responselength","value":{"type":"String","mode":"string","value":"0"},"id":"dc5c5225c0774948b46dab94a0c541e3"},{"type":"String","name":"query_sysid","value":{"type":"String","mode":"string"},"id":"79cdce6ed0474412ace45956fb4f170f"}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"String","name":"welcome","id":"04c0afa2f7b94600a1ec721f0e4ed16f"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"986fbf8d1b55d090722eec61ec4bcba1","domain":"global","id":"f16a2d92db5598900f9f8c884b96198d","name":"_PRVW__62c7129ab3151010796304aef4a5f26c","key_phrases":["wikipedia"],"nlu_provider":"64c023c17300330021a044764df6a70e","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"23242db273603300c1dc32e954f6a79f","library":false}</design_definition>
        <design_topic_id>f16a2d92db5598900f9f8c884b96198d</design_topic_id>
        <name>_PRVW__62c7129ab3151010796304aef4a5f26c</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-06-11 21:17:36</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>6ec7dadadb1510100f9f8c884b96197f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="VAPedia" source="x_snc_vapedia">986fbf8d1b55d090722eec61ec4bcba1</sys_package>
        <sys_policy/>
        <sys_scope display_value="VAPedia">986fbf8d1b55d090722eec61ec4bcba1</sys_scope>
        <sys_update_name>sys_cb_design_topic_6ec7dadadb1510100f9f8c884b96197f</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-06-11 21:17:36</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
