<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__4fa4751288959890b15c0cc30bb33ae3">83a47512db9598900f9f8c884b9619e5</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"5783b41b4fdc402aa4f56627ae679e94","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"5783b41b4fdc402aa4f56627ae679e94"}],"goals":[{"name":"primary","trigger_id":"5783b41b4fdc402aa4f56627ae679e94","nodes":[{"type":"StartGoal","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","greeting_msg":{"type":"String","mode":"string","value":""},"id":"a54f3c16fd1441d19298878c748c3f42","name":"Start"},{"type":"TerminateGoal","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"583a659aa4264757bbf4407796c9f360","name":"End"},{"type":"InputPrompt","variable_id":"04c0afa2f7b94600a1ec721f0e4ed16f","message":{"type":"String","mode":"string","value":"What's the topic you're interested in?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"a77e90ebef71497a868a1a5ac48a88cf","name":"Welcome","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"create","query":"query={{vaInputs.welcome}}","variable_id":"4493be689a1147e3995c31763239df69","id":"d6f4bc51e22a406782e539a1edb587dd","name":"Log query","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    /* Code your scripted action here. For example, you might update a \n       record based on conditional logic:\n    \n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n\nvaVars.query_sysID = vaInputs.log_query.getValue();\nvaVars.query = vaInputs.log_query.getDisplayValue();\n\ntry {\n\t\tvar inputs = {};\n\t\tgs.info('WILLIAM QUERY: '+vaVars.query);\n\t\tinputs['query'] = vaVars.query; // String \n\n\t\t// Start Asynchronously: Uncomment to run in background. Code snippet will not have access to outputs.\n\t\t// sn_fd.FlowAPI.startAction('x_snc_vapedia.search_wikipedia', inputs);\n\t\t\t\t\n\t\t// Execute Synchronously: Run in foreground. Code snippet has access to outputs.\n\t\tvar outputs = sn_fd.FlowAPI.executeAction('x_snc_vapedia.search_wikipedia', inputs);\n\n\t\t// Get Outputs:\n\t\t// Note: outputs can only be retrieved when executing synchronously.\n\t\tvar responselength = outputs['responselength']; // Integer\n\t\tvaVars.responselength = responselength;\n\t\t\n\t} catch (ex) {\n\t\tvar message = ex.getMessage();\n\t\tgs.error(message);\n\t\tgs.info('WILLIAM ERRORE: '+message);\n\t}\n\n})()\n","id":"7e2fdd0055b440c291c2f570778a2d4a","name":"Call Action Flow","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"{{vaVars.responselength}}"},"id":"8e7a900afd7e4ff5a44ececa769b6f5a","name":"Result","goal_id":"fff2c0269ecd488a9b2ac471df63b6cc","applicability":{"type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"a54f3c16fd1441d19298878c748c3f42","target_node_id":"a77e90ebef71497a868a1a5ac48a88cf","id":"08654e9de1d3492b8b1a4d6ba8829d8e"},{"type":"Edge","source_node_id":"a77e90ebef71497a868a1a5ac48a88cf","target_node_id":"d6f4bc51e22a406782e539a1edb587dd","id":"77932deb953249699b3c26898472fcf5"},{"type":"Edge","source_node_id":"d6f4bc51e22a406782e539a1edb587dd","target_node_id":"7e2fdd0055b440c291c2f570778a2d4a","id":"e1d79f84089b4f51826da07838580e8e"},{"type":"Edge","source_node_id":"7e2fdd0055b440c291c2f570778a2d4a","target_node_id":"8e7a900afd7e4ff5a44ececa769b6f5a","id":"98a31b244ffb4058b67d991e819c0aed"},{"type":"Edge","source_node_id":"8e7a900afd7e4ff5a44ececa769b6f5a","target_node_id":"583a659aa4264757bbf4407796c9f360","id":"9adec53f33954fd386a218846e9833ae"}],"id":"fff2c0269ecd488a9b2ac471df63b6cc"}],"script_variables":[{"type":"String","name":"query_sysID","value":{"type":"String","mode":"string"},"id":"bb7825821e994ef5bcf192d7efb6b251"},{"type":"String","name":"query","value":{"type":"String","mode":"string"},"id":"82f4d9550ef74296b41e6ee2beeb8201"},{"type":"String","name":"responselength","value":{"type":"String","mode":"string"},"id":"dc5c5225c0774948b46dab94a0c541e3"}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"String","name":"welcome","id":"04c0afa2f7b94600a1ec721f0e4ed16f"},{"type":"Reference","table":"x_snc_vapedia_wikipedia_search_log","id":"4493be689a1147e3995c31763239df69","name":"log_query"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"986fbf8d1b55d090722eec61ec4bcba1","domain":"global","id":"f16a2d92db5598900f9f8c884b96198d","name":"_PRVW__4fa4751288959890b15c0cc30bb33ae3","key_phrases":["wikipedia"],"nlu_provider":"64c023c17300330021a044764df6a70e","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"23242db273603300c1dc32e954f6a79f","library":false}</design_definition>
        <design_topic_id>f16a2d92db5598900f9f8c884b96198d</design_topic_id>
        <name>_PRVW__4fa4751288959890b15c0cc30bb33ae3</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-06-11 18:44:10</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>cba47512db9598900f9f8c884b9619e7</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="VAPedia" source="x_snc_vapedia">986fbf8d1b55d090722eec61ec4bcba1</sys_package>
        <sys_policy/>
        <sys_scope display_value="VAPedia">986fbf8d1b55d090722eec61ec4bcba1</sys_scope>
        <sys_update_name>sys_cb_design_topic_cba47512db9598900f9f8c884b9619e7</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-06-11 18:44:10</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
